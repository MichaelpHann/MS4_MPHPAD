{% extends "base.html" %}
{% load static %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'checkout/css/checkout.css' %}">
{% endblock %}

{% block content %}
    <section class="section container">
            <div class="row">
                <h3>Thank you</h3>
                <hr>
                <p>Your order information is below. A confirmation email will be sent to <strong>{{ order.email }}</strong>.</p>
            </div>
            <div class="row">
                <div class="col s12 m7">
                    <div class="order-confirmation-wrapper p-2 border">
                        <div class="row">
                            <div class="col s12">
                                <h4>Order Info:</h4>
                            </div>
                        </div>
                        <div class="row">
                        <!-- Order Number -->
                        <div class="col s12 m4">
                            <h5>Order Number</h5>
                        </div>
                        <div class="col s12 m8">
                            <p>{{ order.order_number }}</p>
                        </div>
                        </div>
                        <div class="row">
                        <!-- Order Date -->
                        <div class="col s12 m4">
                            <h5>Order Date</h5>
                        </div>
                        <div class="col s12 m8">
                            <p>{{ order.date }}</p>
                        </div>
                        </div>
                        <div class="row">
                        <!-- Order Details -->
                        <div class="col">
                            <h4>Order Details:</h4>
                        </div>
                        </div>
                        {% for item in order.lineitems.all %}
                        <div class="row">
                        <div class="col s12 m4">
                            <h5>{{ item.product.name }}</h5>
                        </div>
                        <div class="col s12 m8">
                            <p>{{ item.quantity }} @ Â£{{ item.product.price }} each</p>
                        </div>
                        </div>
                        {% endfor %}

                        <!-- Delivery Address -->
                        <div class="row">
                        <div class="col">
                            <h4>Delivering To:</h4>
                        </div>
                        </div>
                        <div class="row">
                        <div class="col s12 m4">
                            <h5>Full Name</h5>
                        </div>
                        <div class="col s12 m8">
                            <p>{{ order.full_name }}</p>
                        </div>
                        </div>
                        <div class="row">
                        <div class="col s12 m4">
                            <h5>Address 1</h5>
                        </div>
                        <div class="col s12 m8">
                            <p>{{ order.street_address1 }}</p>
                        </div>
                        </div>
                        {% if order.street_address2 %}
                            <div class="row">
                                <div class="col s12 m4">
                                    <h5>Address 2</h5>
                                </div>
                                <div class="col s12 m8">
                                    <p>{{ order.street_address1 }}</p>
                                </div>
                            </div>
                        {% endif %}
                        {% if order.county %}
                            <div class="row">
                                <div class="col s12 m4">
                                    <h5>County</h5>
                                </div>
                                <div class="col s12 m8">
                                    <p>{{ order.county }}</p>
                                </div>
                            </div>
                        {% endif %}
                        <div class="row">
                            <div class="col s12 m4">
                                <h5>Town or City</h5>
                            </div>
                            <div class="col s12 m8">
                                <p>{{ order.town_or_city }}</p>
                            </div>
                        </div>
                        {% if order.postcode %}
                            <div class="row">
                                <div class="col s12 m4">
                                    <h5>Postal Code</h5>
                                </div>
                                <div class="col s12 m8">
                                    <p>{{ order.postcode }}</p>
                                </div>
                            </div>
                        {% endif %}
                        <div class="row">
                            <div class="col s12 m4">
                                <h5>Country</h5>
                            </div>
                            <div class="col s12 m8">
                                <p>{{ order.country }}</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col s12 m4">
                                <h5>Phone Number</h5>
                            </div>
                            <div class="col s12 m8">
                                <p>{{ order.phone_number }}</p>
                            </div>
                        </div>
                        <div class="row">
                            <!-- Billing Info -->
                            <div class="col">
                                <h4>Billing Info:</h4>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col s12 m4">
                                <h5>Order Total</h5>
                            </div>
                            <div class="col s12 m8">
                                <p>{{ order.order_total }}</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col s12 m4">
                                <h5>Delivery</h5>
                            </div>
                            <div class="col s12 m8">
                                <p>{{ order.delivery_cost }}</p>
                            </div>
                        </div>
                        <div class="row">
                        <div class="col s12 m4">
                            <h5>Grand Total</h5>
                        </div>
                        <div class="col s12 m8">
                            <p>{{ order.grand_total }}</p>
                        </div>
                        </div>
                    </div>
                </div>
            </div>
                <div class="row">
                    <div class="col s12 center">
                        {% if from_profile %}
                            <a href="{% url 'profile' %}" class="btn">
                                <span class="icon">
                                    <i class="fas fa-angle-left"></i>
                                </span>
                                <span class="text-uppercase">Back to Profile</span>
                            </a>
                        {%  else %}
                        <a href="{% url 'products' %}" class="btn">
                            <span class="icon">
                                <i class="fas fa-gifts"></i>
                            </span>
                            <span class="text-uppercase">Back to Shop</span>
                        </a>
                        {% endif %}
                    </div>
                </div>
    </section>
{% endblock %}

